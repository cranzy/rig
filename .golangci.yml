run:
  timeout: 8m

  skip-dirs-use-default: false
  skip-files:
    - ".*\\.gen\\.go"
    - examples/*
    - test/*
  tests: false
  allow-parallel-runners: true

linters:
  enable-all: true
  disable:
    - nonamedreturns
    - exhaustivestruct
    - exhaustruct
    - forbidigo
    - gochecknoinits
    - gochecknoglobals
    - gocognit # cyclop is used instead
    - gocyclo # cyclop is used instead
    - godox
    - golint
    - interfacer
    - ireturn
    - maligned
    - nlreturn
    - paralleltest
    - scopelint
    - tparallel
    - wsl
    - tagliatelle
    - structcheck
    - nosnakecase
    - deadcode
    - varcheck
    - ifshort
    - goheader
    - dogsled
    - lll
    - gomnd
    - depguard
    - tagalign

linters-settings:
  funlen:
    lines: 100
    statements: 75
  varnamelen:
    max-distance: 10
    ignore-decls:
      - w http.ResponseWriter
      - r *http.Request
      - i int
      - n int
      - j int
      - ok bool
      - p []byte
      - mu sync.Mutex
      - wg sync.WaitGroup
      - h Host
      - fs FS
      - fs remotefs.FS
      - sb strings.Builder
      - sb *strings.Builder
      - s string
  cyclop:
    max-complexity: 12

issues:
  include:
    - EXC0002
    - EXC0012
    - EXC0013
    - EXC0014
    - EXC0015
  max-issues-per-linter: 0
  max-same-issues: 0
  exclude-rules:
    - linters: 
      - errname # lots of false positives for an unknown reason
      - revive # no need for comments on obvious vars like BooleanOptionYes
      path: 'options/options\.go'

